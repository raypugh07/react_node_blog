// used to update the auth state of the user and retrieve the user profile data and save it to the global state